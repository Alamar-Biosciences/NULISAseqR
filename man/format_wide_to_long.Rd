% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mergeNULISAseq.R
\name{format_wide_to_long}
\alias{format_wide_to_long}
\title{A helper function that converts NULISAseq data from wide format (matrices) to long format (tidy data)
by joining sample metadata, target metadata, and execution details.}
\usage{
format_wide_to_long(
  merged,
  AQ = FALSE,
  exclude_sample_cols = "plateGUID",
  include_qc = TRUE
)
}
\arguments{
\item{merged}{A list containing NULISAseq data with required elements:
\itemize{
  \item{\code{targets} - Target metadata data frame}
  \item{\code{samples} - Sample metadata data frame}
  \item{\code{ExecutionDetails} - Execution details list}
  \item{\code{Data_Reverselog2} or \code{Data_NPQ} - NPQ data matrix for RQ}
  \item{\code{Data_raw} - Raw count matrix for RQ}
  \item{\code{Data_AQ} or \code{Data_AQ_aM} - Absolute quantification matrix in aM (optional)}
  \item{\code{Data_AQ_pgmL} - Absolute quantification matrix in pg/mL (optional)}
  \item{\code{Data_AQlog2} or \code{Data_AQlog2_aM} - log2 Absolute quantification matrix in aM (optional)}
  \item{\code{Data_AQlog2_pgmL} - log2 Absolute quantification matrix in pg/mL (optional)}
}}

\item{AQ}{Logical indicating whether to process AQ data.
Defaults to \code{FALSE}.}

\item{exclude_sample_cols}{Character vector of column names to exclude from
sample metadata. Defaults to \code{"plateGUID"}.}

\item{include_qc}{Logical indicating whether to include QC columns in the output.
Defaults to \code{TRUE}. When TRUE, adds Sample_QC_* and Target_QC_* columns if
qcSample and qcTarget data are available. Target QC columns are automatically
filtered based on the \code{AQ} parameter: RQ data excludes AQ-specific metrics
like concentration accuracy and CV calculated on AQ values.}
}
\value{
A tibble in long format with the following columns (depending on mode):
  \itemize{
    \item{Panel, PanelLotNumber, PlateID, InstrumentID, InstrumentBay}
    \item{SampleName, SampleType}
    \item{Target, AlamarTargetID, UniProtID, ProteinName}
    \item{For AQ : Conc_pgmL, log2Conc_pgmL, LOD_pgmL, LLOQ_pgmL, ULOQ_pgmL, Conc_aM, log2Conc_aM, LOD_aM, LLOQ_aM, ULOQ_aM, withinDR}
    \item{For RQ: UnnormalizedCount, NPQ, LOD}
    \item{If include_qc = TRUE: Sample_QC_Status, Sample_QC_*, Target_QC_Status, Target_QC_* (filtered by mode)}
  }
}
\description{
A helper function that converts NULISAseq data from wide format (matrices) to long format (tidy data)
by joining sample metadata, target metadata, and execution details.
}
\keyword{internal}
